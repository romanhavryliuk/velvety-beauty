{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/modal.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  // --- Допоміжна функція для перемикання стану (Accessibility + UI) ---\n  const toggleUIElement = (button, container, forceState = null) => {\n    if (!button || !container) return;\n\n    // Якщо forceState не задано, перемикаємо на протилежний\n    const isOpen =\n      forceState !== null ? forceState : !container.classList.contains('open');\n\n    container.classList.toggle('open', isOpen);\n    button.setAttribute('aria-expanded', String(isOpen));\n\n    // Якщо це підменю з атрибутом hidden\n    if (\n      container.hasAttribute('hidden') ||\n      container.classList.contains('page-submenu-container')\n    ) {\n      container.hidden = !isOpen;\n    }\n  };\n\n  // ---------- 1. Desktop PAGES menu ----------\n  const desktopPageButton = document.querySelector('#page-toggle');\n  const desktopPageContainer = document.querySelector('.page-second-container');\n  const desktopPageItem = document.querySelector('.page');\n\n  if (desktopPageButton && desktopPageContainer) {\n    desktopPageButton.addEventListener('click', e => {\n      e.stopPropagation();\n      toggleUIElement(desktopPageButton, desktopPageContainer);\n    });\n\n    // Закриття при кліку поза меню або Escape\n    document.addEventListener('click', e => {\n      if (desktopPageItem && !desktopPageItem.contains(e.target)) {\n        toggleUIElement(desktopPageButton, desktopPageContainer, false);\n      }\n    });\n  }\n\n  // ---------- 2. Mobile Burger Menu ----------\n  const burger = document.querySelector('.burger');\n  const mobileMenu = document.querySelector('.big-container-open-menu');\n  const mobileCloseBtns = document.querySelectorAll('.mobile-close');\n\n  const handleMobileMenu = open => {\n    toggleUIElement(burger, mobileMenu, open);\n    mobileMenu.setAttribute('aria-hidden', String(!open));\n    document.body.style.overflow = open ? 'hidden' : ''; // Блокуємо скрол фону\n\n    if (open) {\n      mobileMenu.querySelector('a, button, .mobile-close')?.focus();\n    } else {\n      burger.focus();\n    }\n  };\n\n  if (burger && mobileMenu) {\n    burger.addEventListener('click', e => {\n      e.stopPropagation();\n      const isNowOpen = !mobileMenu.classList.contains('open');\n      handleMobileMenu(isNowOpen);\n    });\n\n    mobileCloseBtns.forEach(btn =>\n      btn.addEventListener('click', () => handleMobileMenu(false))\n    );\n  }\n\n  // ---------- 3. Submenus (Вкладені меню) ----------\n  const submenuButtons = document.querySelectorAll('.btn-page-list');\n\n  const closeAllSubmenus = (except = null) => {\n    document.querySelectorAll('.second-menu-item.open').forEach(item => {\n      if (item === except) return;\n      const btn = item.querySelector('.btn-page-list');\n      const sub = item.querySelector('.page-submenu-container');\n      item.classList.remove('open');\n      if (btn) btn.setAttribute('aria-expanded', 'false');\n      if (sub) sub.hidden = true;\n    });\n  };\n\n  submenuButtons.forEach(button => {\n    const menuItem = button.closest('.second-menu-item');\n    const submenu = menuItem?.querySelector('.page-submenu-container');\n\n    if (!submenu) return;\n\n    button.addEventListener('click', e => {\n      e.stopPropagation();\n      const isOpening = submenu.hidden;\n\n      if (isOpening) closeAllSubmenus(menuItem);\n\n      toggleUIElement(button, menuItem, isOpening);\n      submenu.hidden = !isOpening;\n    });\n  });\n\n  // ---------- Загальні обробники (Escape) ----------\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') {\n      if (desktopPageContainer)\n        toggleUIElement(desktopPageButton, desktopPageContainer, false);\n      if (mobileMenu?.classList.contains('open')) handleMobileMenu(false);\n      closeAllSubmenus();\n    }\n  });\n});\n","(() => {\n  const refs = {\n    // Додати атрибут data-modal-open на кнопку відкриття\n    openModalBtn: document.querySelector('[data-mobile-open]'),\n    // Додати атрибут data-modal-close на кнопку закриття\n    closeModalBtn: document.querySelector('[data-mobile-close]'),\n    // Додати атрибут data-modal на бекдроп модалки\n    modal: document.querySelector('[data-mobile]'),\n    // Додаємо body для керування скролом\n    body: document.body,\n  };\n\n  if (!refs.modal) return;\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n\n  function toggleModal() {\n    // is-open це клас який буде додаватися/забиратися на бекдроп при натисканні на кнопки\n    refs.modal.classList.toggle('is-open');\n    // Перевіряємо чи є клас is-open на бекдропі\n    const isOpen = refs.modal.classList.contains('is-open');\n    // Забираємо скрол коли модалка відкрита\n    refs.body.classList.toggle('no-scroll', isOpen);\n  }\n  // Закриваємо модалку при натисканні на Escape\n  window.addEventListener('keydown', event => {\n    if (event.key === 'Escape' && refs.modal.classList.contains('is-open')) {\n      toggleModal();\n    }\n  });\n\n  refs.modal.addEventListener('click', e => {\n    const link = e.target.closest('a[href]');\n    if (!link) return;\n\n    //Закриває модалку та переносить до відпопідної секції при натискані на лінк\n    if (link.getAttribute('href')?.startsWith('#')) {\n      toggleModal();\n    }\n  });\n})();\n"],"names":["toggleUIElement","button","container","forceState","isOpen","desktopPageButton","desktopPageContainer","desktopPageItem","e","burger","mobileMenu","mobileCloseBtns","handleMobileMenu","open","_a","isNowOpen","btn","submenuButtons","closeAllSubmenus","except","item","sub","menuItem","submenu","isOpening","refs","toggleModal","event","link"],"mappings":"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"}